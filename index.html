<!DOCTYPE html><html><head><script>"use strict";let frame={start:performance.now(),delta:0},cube=[["#ffaa00",{x:-10,y:-10,z:20},{x:10,y:-10,z:20},{x:10,y:10,z:20},{x:-10,y:10,z:20}],["#88aabb",{x:10,y:-10,z:10},{x:10,y:10,z:10},{x:10,y:10,z:20},{x:10,y:-10,z:20}],["#44aaee",{x:-10,y:-10,z:10},{x:-10,y:10,z:10},{x:-10,y:10,z:20},{x:-10,y:-10,z:20}],["#eeaa44",{x:-10,y:10,z:10},{x:10,y:10,z:10},{x:10,y:10,z:20},{x:-10,y:10,z:20}],["#bbaa88",{x:-10,y:-10,z:10},{x:10,y:-10,z:10},{x:10,y:-10,z:20},{x:-10,y:-10,z:20}],["#00aaff",{x:-10,y:-10,z:10},{x:10,y:-10,z:10},{x:10,y:10,z:10},{x:-10,y:10,z:10}]],camera={x:0,y:0,z:-20,yaw:0,pitch:0,roll:0,fov:90,screenDistance:window.innerWidth/2,renderDistance:1e3},object=[["#ffaa00",{x:-10,y:-10,z:10},{x:10,y:-10,z:10},{x:10,y:10,z:10},{x:-10,y:10,z:10}]];function refreshFVSD(){camera.screenDistance=Math.round(1/(Math.tan(camera.fov/114.5915)/(window.innerWidth/2)))}function run(e){frame.delta=performance.now()-frame.start,frame.start+=frame.delta,e.call(),window.requestAnimationFrame(run.bind(null,e))}function frameR(e){draw(e,scenify(e,camera,[{model:cube,transform:{x:0,y:0,z:0,yaw:0,pitch:0,roll:0}}]))}function scenify(e,n,t){let a,r,i,o,l,c,f,d,s,h,y,g,m,x,w,z,u=[];const b=e.canvas.width/2,v=e.canvas.height/2;for(let e=0;e<t.length;e++){h=t[e].transform,o=h.x,l=h.y,c=h.z,h=t[e].model;for(let e=0;e<h.length;e++){y=[h[e][0]],g=h[e].length-1,m=g;for(let t=1;t<h[e].length;t++)d=h[e][t],a=d.x+o-n.x,r=d.y+l-n.y,i=d.z+c-n.z,f=a*a+r*r+i*i,Math.pow(n.renderDistance,2)<=f&&g--,i=n.screenDistance/i,a*=i,r*=i,(Math.abs(a)>b+2||Math.abs(r)>v+2)&&m--,i<=0&&(r*=-1,a*=-1),y.push([Math.floor(b+a),Math.floor(v-r),f]);for(let n=1;n<h[e].length;n++){x=y[n],s=0;for(let n=1;n<h[e].length;n++)y[n][0]==x[0]&&y[n][1]==x[1]&&s++;if(1!=s){g=-1,m=-1;break}}w=0,z=0;for(let e=1;e<y.length;e++)w+=y[e][2],z++;y[1][2]=w/z,g>0&&m>0&&u.push(y)}}return u=u.sort((function(e,n){return n[1][2]-e[1][2]})),u}function draw(e,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.beginPath(),e.fillStyle="#ffffff",e.rect(0,0,e.canvas.width,e.canvas.height),e.fill(),polyBatch(e,n),camera.y+=frame.delta/120}function polyBatch(e,n){for(let t=0;t<n.length;t++)if(n[t].length>=4){e.beginPath(),e.moveTo(n[t][1][0],n[t][1][1]);for(let a=2;a<n[t].length;a++)e.lineTo(n[t][a][0],n[t][a][1]);e.fillStyle=n[t][0],e.fill()}}function setLangPrefs(){switch(window.navigator.language.substring(0,2).toUpperCase()){case"EN":default:break;case"RU":document.getElementById("t").innerHTML="ПРОГОРКЛЫЕ-ПТИЦЫ"}}window.addEventListener("resize",(function(){let e=document.getElementById("canvas");e.height=window.innerHeight,e.width=window.innerWidth,refreshFVSD()})),window.onload=function(){setLangPrefs(),document.body.innerHTML="<canvas id='canvas'></canvas>",document.getElementById("s").innerHTML="html,body,canvas{overflow:hidden;margin:0;padding:0;image-rendering:pixelated;image-rendering:crisp-edges}";let e=document.getElementById("canvas");e.height=window.innerHeight,e.width=window.innerWidth;let n=e.getContext("2d",{alpha:!1});run(frameR.bind(null,n))};</script><title id="t">RANCID BIRDS</title><style id="s"></style></head><body><noscript><p>Enable JavaScript</p></noscript><p>Loading...</p></body></html>